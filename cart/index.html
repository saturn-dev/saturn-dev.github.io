<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>deepinmycloset | Cart</title>
  <meta property="og:type" content="website">
  <meta property="og:title" content="deepinmycloset - Kakobuy Rep Spreadsheet">
  <meta property="og:description" content="deepinmycloset - Kakobuy, simplified. Discover quality rep finds without the hassle, all in one place.">
  <meta property="og:image" content="/banner.png">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/png" href="/icons.png"/>
  <link rel="stylesheet" href="/style.css"/>
  <link href="https://fonts.googleapis.com/css2?family=Barlow:wght@600;700;800&display=swap" rel="stylesheet">
</head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-5WN7F6ZJ3Z"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-5WN7F6ZJ3Z');
</script>
<body>

<div id="notification-container"></div>
<div class="menu-overlay" id="menuOverlay"></div>
<nav class="navbar">
  <div class="nav-inner">
    <a href="/" class="logo-img">
      <img src="/logo_no_background.png" alt="deepinmycloset">
    </a>
    <ul class="nav-links center">
      <li>
        <a href="/spreadsheet">
          <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3">
            <path d="M200-120h107v-187H120v107q0 33 23.5 56.5T200-120Zm187 0h186v-187H387v187Zm266 0h107q33 0 56.5-23.5T840-200v-107H653v187ZM120-387h187v-186H120v186Zm267 0h186v-186H387v186Zm266 0h187v-186H653v186ZM120-653h187v-187H200q-33 0-56.5 23.5T120-760v107Zm267 0h186v-187H387v187Zm266 0h187v-107q0-33-23.5-56.5T760-840H653v187Z" />
          </svg> Spreadsheet </a>
      </li>
      <li>
        <a href="/tutorial">
          <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3">
            <path d="M560-360q17 0 29.5-12.5T602-402q0-17-12.5-29.5T560-444q-17 0-29.5 12.5T518-402q0 17 12.5 29.5T560-360Zm-30-128h60q0-29 6-42.5t28-35.5q30-30 40-48.5t10-43.5q0-45-31.5-73.5T560-760q-41 0-71.5 23T446-676l54 22q9-25 24.5-37.5T560-704q24 0 39 13.5t15 36.5q0 14-8 26.5T578-596q-33 29-40.5 45.5T530-488ZM320-240q-33 0-56.5-23.5T240-320v-480q0-33 23.5-56.5T320-880h480q33 0 56.5 23.5T880-800v480q0 33-23.5 56.5T800-240H320ZM160-80q-33 0-56.5-23.5T80-160v-560h80v560h560v80H160Z" />
          </svg> Tutorial </a>
      </li>
      <li>
        <a href="/videos">
          <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3">
            <path d="M280-40q-33 0-56.5-23.5T200-120v-720q0-33 23.5-56.5T280-920h400q33 0 56.5 23.5T760-840v124q18 7 29 22t11 34v80q0 19-11 34t-29 22v404q0 33-23.5 56.5T680-40H280Zm120-120h160q17 0 28.5-11.5T600-200q0-17-11.5-28.5T560-240H400q-17 0-28.5 11.5T360-200q0 17 11.5 28.5T400-160Z" />
          </svg> Videos </a>
      </li>
      <li>
        <a href="/updates">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 960 960" fill="currentColor">
            <path d=" M180 120
    H780
    Q840 120 840 180
    V780
    Q840 840 780 840
    H180
    Q120 840 120 780
    V180
    Q120 120 180 120
    Z
  " />
            <path d="
    m482 760 114-113-114-113-42 42 43 43
    q-28 1-54.5-9T381 579
    q-20-20-30.5-46T340 481
    q0-17 4.5-34t12.5-33l-44-44
    q-17 25-25 53t-8 57
    q0 38 15 75t44 66
    q29 29 65 43.5T478 705
    l-38 38 42 42
    Z

    m165-170
    q17-25 25-53t8-57
    q0-38-14.5-75.5T622 338
    q-29-29-65.5-43T482 281
    l38-39-42-42-114 113
    114 113 42-42-44-44
    q27 0 55 10.5t48 30.5
    q20 20 30.5 46t10.5 52
    q0 17-4.5 34T603 546
    l44 44
    Z
  " fill="var(--bg)" />
          </svg> Updates </a>
      </li>
      <li>
        <a href="/#faq">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 960 960" fill="currentColor">
            <path d="
    M200 120
    H760
    Q840 120 840 200
    V760
    Q840 840 760 840
    H200
    Q120 840 120 760
    V200
    Q120 120 200 120
    Z
  " />
            <path d="M440 360h80v260h-80z" fill="var(--bg)" />
            <circle cx="480" cy="280" r="40" fill="var(--bg)" />
          </svg> FAQ </a>
      </li>
    </ul>
    <div class="nav-actions">
  <a href="https://discord.gg/KKTNRQbKDE" target="_blank"><button class="cart-btn" aria-label="Cart">
<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 640 512"><path fill="currentColor" d="M524.531 69.836a1.5 1.5 0 0 0-.764-.7A485 485 0 0 0 404.081 32.03a1.82 1.82 0 0 0-1.923.91 338 338 0 0 0-14.9 30.6 447.9 447.9 0 0 0-134.426 0 310 310 0 0 0-15.135-30.6 1.89 1.89 0 0 0-1.924-.91 483.7 483.7 0 0 0-119.688 37.107 1.7 1.7 0 0 0-.788.676C39.068 183.651 18.186 294.69 28.43 404.354a2.02 2.02 0 0 0 .765 1.375 487.7 487.7 0 0 0 146.825 74.189 1.9 1.9 0 0 0 2.063-.676A348 348 0 0 0 208.12 430.4a1.86 1.86 0 0 0-1.019-2.588 321 321 0 0 1-45.868-21.853 1.885 1.885 0 0 1-.185-3.126 251 251 0 0 0 9.109-7.137 1.82 1.82 0 0 1 1.9-.256c96.229 43.917 200.41 43.917 295.5 0a1.81 1.81 0 0 1 1.924.233 235 235 0 0 0 9.132 7.16 1.884 1.884 0 0 1-.162 3.126 301.4 301.4 0 0 1-45.89 21.83 1.875 1.875 0 0 0-1 2.611 391 391 0 0 0 30.014 48.815 1.86 1.86 0 0 0 2.063.7A486 486 0 0 0 610.7 405.729a1.88 1.88 0 0 0 .765-1.352c12.264-126.783-20.532-236.912-86.934-334.541M222.491 337.58c-28.972 0-52.844-26.587-52.844-59.239s23.409-59.241 52.844-59.241c29.665 0 53.306 26.82 52.843 59.239 0 32.654-23.41 59.241-52.843 59.241m195.38 0c-28.971 0-52.843-26.587-52.843-59.239s23.409-59.241 52.843-59.241c29.667 0 53.307 26.82 52.844 59.239 0 32.654-23.177 59.241-52.844 59.241"></path></svg>
      </button></a>
      <a href="/cart" class="cart-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="text-foreground-500"><g fill="none"><path d="M24 0v24H0V0zM12.593 23.258l-.011.002-.071.035-.02.004-.014-.004-.071-.035q-.016-.005-.024.005l-.004.01-.017.428.005.02.01.013.104.074.015.004.012-.004.104-.074.012-.016.004-.017-.017-.427q-.004-.016-.017-.018m.265-.113-.013.002-.185.093-.01.01-.003.011.018.43.005.012.008.007.201.093q.019.005.029-.008l.004-.014-.034-.614q-.005-.019-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014-.034.614q.001.018.017.024l.015-.002.201-.093.01-.008.004-.011.017-.43-.003-.012-.01-.01z"></path><path fill="currentColor" d="M9 20a1 1 0 1 1 0 2 1 1 0 0 1 0-2m7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2M2.2 2.9a1 1 0 0 1 1.295-.269l.105.07 1.708 1.28a2 2 0 0 1 .653.848l.06.171h12.846a2 2 0 0 1 1.998 2.1l-.013.148-.457 3.655a5 5 0 0 1-4.32 4.34l-.226.023-7.313.61.26 1.124H17.5a1 1 0 0 1 .117 1.993L17.5 19H8.796a2 2 0 0 1-1.906-1.393l-.043-.157-2.74-11.87L2.4 4.3a1 1 0 0 1-.2-1.4"></path></g></svg> $0.00</a>
    </div>
            <button class="menu-btn" onclick="openDrawer()"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"><g fill="none"><path d="M24 0v24H0V0zM12.593 23.258l-.011.002-.071.035-.02.004-.014-.004-.071-.035q-.016-.005-.024.005l-.004.01-.017.428.005.02.01.013.104.074.015.004.012-.004.104-.074.012-.016.004-.017-.017-.427q-.004-.016-.017-.018m.265-.113-.013.002-.185.093-.01.01-.003.011.018.43.005.012.008.007.201.093q.019.005.029-.008l.004-.014-.034-.614q-.005-.019-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014-.034.614q.001.018.017.024l.015-.002.201-.093.01-.008.004-.011.017-.43-.003-.012-.01-.01z"></path><path fill="currentColor" d="M20 17.5a1.5 1.5 0 0 1 .144 2.993L20 20.5H4a1.5 1.5 0 0 1-.144-2.993L4 17.5zm0-7a1.5 1.5 0 0 1 0 3H4a1.5 1.5 0 0 1 0-3zm0-7a1.5 1.5 0 0 1 0 3H4a1.5 1.5 0 1 1 0-3z"></path></g></svg></button>
  </div>
</nav>

<div class="drawer-overlay" id="drawerOverlay"></div>

<nav class="drawer" id="drawer">
  <div class="drawer-handle">
    <span></span>
  </div>

  <div class="drawer-content">
    <p class="drawer-title">Quick Access</p>

    <ul class="drawer-list">
      <li><a href="/spreadsheet/"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3">
            <path d="M200-120h107v-187H120v107q0 33 23.5 56.5T200-120Zm187 0h186v-187H387v187Zm266 0h107q33 0 56.5-23.5T840-200v-107H653v187ZM120-387h187v-186H120v186Zm267 0h186v-186H387v186Zm266 0h187v-186H653v186ZM120-653h187v-187H200q-33 0-56.5 23.5T120-760v107Zm267 0h186v-187H387v187Zm266 0h187v-107q0-33-23.5-56.5T760-840H653v187Z" />
          </svg> Spreadsheet</a></li>
      <li><a href="/tutorial/"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3">
            <path d="M560-360q17 0 29.5-12.5T602-402q0-17-12.5-29.5T560-444q-17 0-29.5 12.5T518-402q0 17 12.5 29.5T560-360Zm-30-128h60q0-29 6-42.5t28-35.5q30-30 40-48.5t10-43.5q0-45-31.5-73.5T560-760q-41 0-71.5 23T446-676l54 22q9-25 24.5-37.5T560-704q24 0 39 13.5t15 36.5q0 14-8 26.5T578-596q-33 29-40.5 45.5T530-488ZM320-240q-33 0-56.5-23.5T240-320v-480q0-33 23.5-56.5T320-880h480q33 0 56.5 23.5T880-800v480q0 33-23.5 56.5T800-240H320ZM160-80q-33 0-56.5-23.5T80-160v-560h80v560h560v80H160Z" />
          </svg> Tutorial</a></li>
      <li><a href="/videos/"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3">
            <path d="M280-40q-33 0-56.5-23.5T200-120v-720q0-33 23.5-56.5T280-920h400q33 0 56.5 23.5T760-840v124q18 7 29 22t11 34v80q0 19-11 34t-29 22v404q0 33-23.5 56.5T680-40H280Zm120-120h160q17 0 28.5-11.5T600-200q0-17-11.5-28.5T560-240H400q-17 0-28.5 11.5T360-200q0 17 11.5 28.5T400-160Z" />
          </svg> Videos</a></li>
      <li><a href="/updates/"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 960 960" fill="currentColor">
            <path d=" M180 120
    H780
    Q840 120 840 180
    V780
    Q840 840 780 840
    H180
    Q120 840 120 780
    V180
    Q120 120 180 120
    Z
  " />
            <path d="
    m482 760 114-113-114-113-42 42 43 43
    q-28 1-54.5-9T381 579
    q-20-20-30.5-46T340 481
    q0-17 4.5-34t12.5-33l-44-44
    q-17 25-25 53t-8 57
    q0 38 15 75t44 66
    q29 29 65 43.5T478 705
    l-38 38 42 42
    Z

    m165-170
    q17-25 25-53t8-57
    q0-38-14.5-75.5T622 338
    q-29-29-65.5-43T482 281
    l38-39-42-42-114 113
    114 113 42-42-44-44
    q27 0 55 10.5t48 30.5
    q20 20 30.5 46t10.5 52
    q0 17-4.5 34T603 546
    l44 44
    Z
  " fill="var(--bg)" />
          </svg> Updates</a></li>
      <li><a href="/#faq"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 960 960" fill="currentColor">
            <path d="
    M200 120
    H760
    Q840 120 840 200
    V760
    Q840 840 760 840
    H200
    Q120 840 120 760
    V200
    Q120 120 200 120
    Z
  " />
            <path d="M440 360h80v260h-80z" fill="var(--bg)" />
            <circle cx="480" cy="280" r="40" fill="var(--bg)" />
          </svg> FAQ</a></li>
    </ul>
  </div>
    <div class="line"></div>
    <a href="https://discord.gg/KKTNRQbKDE" class="discord-btn">
      <span class="button-text">Discord</span>
    </a>
</nav>
  <script src="/script.js"></script>
<style>


* { box-sizing: border-box; }

body {
  margin: 0;
  font-family: Inter, system-ui, sans-serif;
  background: var(--bg);
  color: var(--text);
}

/* PAGE */
.page {
  max-width: 1100px;
  margin: auto;
  padding: 2rem 1.25rem 6rem;
}

h1 {
  font-size: 1.8rem;
  margin-bottom: 1.5rem;
  z-index: 3;
}

/* CART LIST */
.cart-list {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.cart-item {
  background: var(--panel);
  border: 1px solid var(--border);
  border-radius: 16px;
  padding: 1rem;
  display: grid;
  grid-template-columns: 90px 1fr auto;
  gap: 1rem;
  align-items: center;
}


.cart-item img {
  min-width: 100px;
  height: 90px;
  transform: scale(1.3);
  border-radius: 12px;
  object-fit: cover;
}

.cart-info {
  display: flex;
  flex-direction: column;
  gap: .25rem;
    z-index: 3;
}

.cart-name {
  font-weight: 500;
}

.cart-price {
  color: var(--muted);
  font-size: .9rem;
}

/* ACTIONS */
.cart-actions {
  display: flex;
  flex-direction: column;
  gap: .5rem;
  align-items: flex-end;
}

.buy-btn {
  background: linear-gradient(135deg, var(--accent), var(--accent));
  color: #000;
  padding: .55rem 1rem;
  border-radius: 10px;
  font-weight: 600;
  font-size: .9rem;
  text-decoration: none;
  transition: transform .15s ease, box-shadow .15s ease;
}

.buy-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 12px 35px rgba(0,255,160,.25);
}

.remove-btn {
  background: transparent;
  border: 1px solid var(--border);
  color: var(--muted);
  padding: .35rem .6rem;
  border-radius: 8px;
  font-size: .75rem;
  cursor: pointer;
}

.remove-btn:hover {
  color: #ff6b6b;
  border-color: #ff6b6b;
}

.total-bar {
  position: fixed;
  bottom: 1.25rem;
  left: 50%;
  transform: translateX(-50%);
  width: min(92%, 720px);
  background: rgba(11, 13, 17, 0.85);
  backdrop-filter: blur(12px);
  border: 1px solid var(--border);
  border-radius: 999px;
  padding: .65rem 1rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
  z-index: 100;
  box-shadow: 0 12px 40px rgba(0,0,0,.45);
}

.total-label {
  color: var(--muted);
  font-size: .85rem;
}

.total-value {
  font-size: 1.1rem;
  font-weight: 600;
}

@media (min-width: 350px) and (max-width: 1170px) {
  .cart-item {
    grid-template-columns: 70px 1fr;
  }

  .cart-actions {
    grid-column: 1 / -1;
    justify-content: space-between;
  }

  .total-bar {
    width: 100%;
    border-radius: 0px;
    bottom: 0;
  }

.cart-item img {
  width: 90px;
  height: 90px;
  transform: scale(1.1);
  border-radius: 12px;
  object-fit: cover;
}

  .buy-btn {
    width: 100%;
    text-align: center;
  }
}
</style>
</head>

<body>

<div class="page">
  <h1>Your Cart</h1>
  <div class="cart-list" id="cartContainer"></div>
</div>

<div class="total-bar">
  <div class="total-label">Cart Total:</div>
  <div class="total-value" id="cartTotal">$0.00</div>
</div>
<script>
const container = document.getElementById("cartContainer");
const totalEl = document.getElementById("cartTotal");
const cartBtnEl = document.querySelector(".cart-button"); // navbar cart button

function getCart() {
  return JSON.parse(localStorage.getItem("cart")) || [];
}

function saveCart(cart) {
  localStorage.setItem("cart", JSON.stringify(cart));
}

const cartTotalText = document.querySelector(".cart-total-text");

function updateCartButton(total) {
  if (cartTotalText) {
    cartTotalText.textContent = `$${total.toLocaleString(undefined, {minimumFractionDigits: 2, maximumFractionDigits: 2})}`;
  }
}

function animateNumber(element, start, end, duration = 500) {
  const range = end - start;
  const stepTime = 16; // ~60fps
  let startTime = null;

  function step(timestamp) {
    if (!startTime) startTime = timestamp;
    const progress = Math.min((timestamp - startTime) / duration, 1);
    const current = start + range * progress;
    element.textContent = `$${current.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;
    if (progress < 1) {
      requestAnimationFrame(step);
    }
  }

  requestAnimationFrame(step);
}

function renderCart() {
  const cart = getCart(); // always read fresh
  container.innerHTML = "";
  let total = 0;

  cart.forEach(item => {
    total += item.price;

    const el = document.createElement("div");
    el.className = "cart-item";
    el.innerHTML = `
      <img src="/${item.image}">
      <div class="cart-info">
        <div class="cart-name">${item.name}</div>
        <div class="cart-price">$${item.price.toFixed(2)}</div>
      </div>
      <div class="cart-actions">
        <a class="buy-btn" target="_blank"
          href="https://www.kakobuy.com/item/details?url=${encodeURIComponent(item.link)}&affcode=deepinmycloset">
          Buy Now
        </a>
        <button class="remove-btn">Remove</button>
      </div>
    `;

    el.querySelector(".remove-btn").onclick = () => {
      const updatedCart = cart.filter(i => i.name !== item.name);
      saveCart(updatedCart);
                showNotification("Removed", `Removed ${item.name} from your cart`, 3000, "#e53535");
      renderCart();
    };

    container.appendChild(el);
  });

  const oldTotal = parseFloat(totalEl.textContent.replace(/[$,]/g, "")) || 0;
  animateNumber(totalEl, oldTotal, total);

  const oldNavbarTotal = parseFloat(cartTotalText.textContent.replace(/[$,]/g, "")) || 0;
  animateNumber(cartTotalText, oldNavbarTotal, total);
}


// Listen for changes to cart from other pages/tabs
window.addEventListener("storage", (e) => {
  if (e.key === "cart") {
    renderCart();
  }
});

// Initial render
renderCart();


</script>



<script>
(() => {
  const drawer = document.getElementById("drawer");
  const overlay = document.getElementById("drawerOverlay");
  const handle = drawer?.querySelector(".drawer-handle");

  if (!drawer || !overlay || !handle) return;

  const vh = () => window.innerHeight;

  let minY = 0;
  let maxY = 0;
  let currentY = 0;
  let startY = 0;
  let startTranslate = 0;
  let dragging = false;

  function updateLimits() {
    minY = vh() * 0.45; 
    maxY = 0;
  }

  updateLimits();
  window.addEventListener("resize", updateLimits);

  function setTranslate(y) {
    currentY = y;
    drawer.style.transform = `translateY(${y}px)`;
  }

  function openDrawer() {
    drawer.classList.add("open");
    overlay.classList.add("active");
    drawer.style.transition = "";
    setTranslate(minY);
  }

  function closeDrawer() {
    drawer.classList.remove("open", "full");
    overlay.classList.remove("active");
    drawer.style.transition = "";
    drawer.style.transform = "translateY(100%)";
    currentY = minY;
  }

  window.openDrawer = openDrawer;
  window.closeDrawer = closeDrawer;

  overlay.addEventListener("click", closeDrawer);

  handle.addEventListener("pointerdown", (e) => {
    dragging = true;
    startY = e.clientY;
    startTranslate = currentY || minY;

    drawer.style.transition = "none";
    handle.setPointerCapture(e.pointerId);
  });

  handle.addEventListener("pointermove", (e) => {
    if (!dragging) return;

    const delta = e.clientY - startY;
    const nextY = Math.min(
      Math.max(startTranslate + delta, maxY),
      minY
    );

    setTranslate(nextY);
  });

  handle.addEventListener("pointerup", () => {
    if (!dragging) return;
    dragging = false;
    drawer.style.transition = "";

    if (currentY < minY * 0.4) {
      drawer.classList.add("full");
      setTranslate(maxY);
    } else {
      drawer.classList.remove("full");
      setTranslate(minY);
    }
  });

  handle.addEventListener("pointercancel", () => {
    dragging = false;
    drawer.style.transition = "";
    setTranslate(minY);
  });
})();
</script>

</body>
</html>